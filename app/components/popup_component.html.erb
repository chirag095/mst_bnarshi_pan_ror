<style>
/* General Styles */
.modal {
  position: fixed;
  z-index: 999;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  max-width: 900px;
  width: 95%;
  background: #fff;
  border-radius: 15px;
  overflow: hidden;
  animation: fadeIn 0.5s ease-in-out;
}

/* Image Section */
.modal-image {
  flex: 1 1 50%;
  max-height: 100%;
}

.modal-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Form Section */
.modal-form {
  flex: 1 1 50%;
  padding: 2rem;
  background: #fff;
  position: relative;
}

/* Close Button */
.modal-form .close {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 36px;
  font-weight: bold;
  color: red;
  cursor: pointer;
  z-index: 10;
}

/* Animation */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-30px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Responsive Styles */
@media (max-width: 768px) {
  .modal-content {
    flex-direction: column;
  }

  .modal-image {
    display: none; /* Hides image on phones */
  }

  .modal-form {
    flex: 1 1 100%;
    padding: 1.5rem 1rem;
    border: 2px solid #ccc; /* Form border for mobile */
    border-radius: 10px;
    margin: 1rem;
  }

  .modal-form .close {
    font-size: 32px;
    top: 5px;
    right: 5px;
  }
}
</style>


<bodygood>

  <div id="modal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
  background-color: rgba(0,0,0,0.5); z-index: 9999; justify-content: center; align-items: center;">

  <div class="modal-content" style="position: relative; max-width: 900px; background: #fff; border-radius: 15px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.2);">
    
    <!-- Form + Image Flex Wrapper -->
    <div class="modal-body d-flex flex-wrap">
      
      <!-- Image Section -->
      <div class="modal-image" style="flex: 1 1 300px;">
        <img src="/assets/poup.jpeg" alt="Side Image" style="width: 100%; height: 100%; object-fit: cover; display: block;">
      </div>

      <!-- Form Section -->
      <div class="modal-form p-4 position-relative" style="flex: 1 1 300px; background: #fff; position: relative;">

        <!-- Right Side Close Button (Red) -->
        <span class="close" style="position: absolute; top: 10px; right: 10px; font-size: 42px; font-weight: bold; color: red; cursor: pointer;">&times;</span>

       <center> <h2 class="mb-4">Get in Touch</h3><h2></center>

        <%= form_with url: franchies_contact_path, method: :post, class: "contact-form" do %>
          <div class="form-group mb-3">
            <label for="full_name">Name</label>
            <%= text_field_tag :full_name, nil, placeholder: "Enter your name", class: "form-control", required: true %>
          </div>

          <div class="form-group mb-3">
            <label for="email">Email</label>
            <%= email_field_tag :email, nil, placeholder: "Enter your email", class: "form-control", required: true %>
          </div>  

          <div class="form-group mb-3">
            <label for="contact">Phone</label>
            <%= number_field_tag :contact, nil, placeholder: "Enter your phone number", class: "form-control", required: true %>
          </div>

          <div class="form-group mb-3">
            <label for="outlate">Franchise Model</label>
            <%= select_tag :enquiry_form, options_for_select(User::OUTLATE_TITLE), prompt: "Select franchies model", class: "form-control", required: true %>
          </div>

          <div class="form-group mb-3">
            <label for="state">State</label>
            <%= select_tag :state, options_from_collection_for_select(@states, :id, :title), prompt: "Select State", class: "form-control" %>
          </div>

          

          <div>
            <%= submit_tag 'Send Message', class: 'btn btn-primary w-100' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>





    <script src="script.js"></script>
</bodygood>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    const modal = document.getElementById('modal');
    const closeBtn = modal?.querySelector('.close');

    // Auto-open modal after 5 seconds
    setTimeout(() => {
      if (modal) modal.style.display = 'flex';
    }, 5000);

    // Close modal on click of close button
    if (closeBtn) {
      closeBtn.addEventListener('click', function () {
        modal.style.display = 'none';
      });
    }
  });
</script>
